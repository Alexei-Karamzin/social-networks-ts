"use strict";(self.webpackChunksocial_networks_ts=self.webpackChunksocial_networks_ts||[]).push([[721],{3721:function(t,e,n){n.r(e),n.d(e,{default:function(){return O}});var r=n(6515),s=n(7853),u=n(243),i=n(8932),o=n(2587),a=n(2791),l={},c={img:"ProfileInfo_img__EWyJv"},d=n(3430),f=n(184),v=function(t){var e=t.status,n=t.updateStatus,r=(0,a.useState)(!1),s=(0,d.Z)(r,2),u=s[0],i=s[1],o=(0,a.useState)(""),l=(0,d.Z)(o,2),c=(l[0],l[1]);(0,a.useEffect)((function(){c(e)}),[e]);return(0,f.jsxs)("div",{children:["Status:",!u&&(0,f.jsx)("div",{children:(0,f.jsx)("span",{onDoubleClick:function(){return i(!0)},children:e})}),u&&(0,f.jsx)("div",{children:(0,f.jsx)("input",{onChange:function(t){return e=t.currentTarget.value,void c(e);var e},autoFocus:!0,onBlur:function(){i(!1),n(e)},value:e||""})})]})},h=function(t){var e,n,r,s=t.profile,u=t.status,i=t.updateStatus;return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:c.ava,children:[(0,f.jsx)("img",{src:null===s||void 0===s||null===(e=s.photos)||void 0===e?void 0:e.large}),(0,f.jsx)(v,{status:u,updateStatus:i}),(0,f.jsx)("div",{children:(0,f.jsxs)("p",{children:["About me: ",null===s||void 0===s?void 0:s.aboutMe]})}),(0,f.jsx)("div",{children:(0,f.jsxs)("p",{children:["Full Name: ",null===s||void 0===s?void 0:s.fullName]})}),(0,f.jsxs)("div",{children:["Social networks:",(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{children:["Facebook: ",null!==s&&void 0!==s&&null!==(n=s.contacts)&&void 0!==n&&n.facebook?s.contacts.facebook:"???"]}),(0,f.jsxs)("div",{children:["vk: ",null!==s&&void 0!==s&&null!==(r=s.contacts)&&void 0!==r&&r.vk?s.contacts.vk:"???"]})]})]})]})})},p=n(7321),x={},j="Post_item__H1oZ9",m=function(t){return(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:j,children:[(0,f.jsx)("img",{src:"https://img2.fonwall.ru/o/tp/abstract-digital-art-deviantart.jpeg?route=mid&h=750"}),t.message,(0,f.jsxs)("div",{children:[t.LikeCounts," Like"]})]})})},g=n(5705),b=n(8327),y=a.memo((function(t){var e=t.usersMessage,n=t.addPostAC,r=(0,b.T)(),s=(0,a.useState)(null),u=(0,d.Z)(s,2),i=(u[0],u[1]),o=(0,g.TA)({initialValues:{text:""},onSubmit:function(t){console.log(t),""!==t.text.trim()?(r(n(t.text)),o.resetForm()):i("err")}}),l=e.map((function(t){return(0,f.jsx)(m,{message:t.message,LikeCounts:t.LikeCounts},t.id)}));return(0,f.jsx)("form",{onSubmit:o.handleSubmit,children:(0,f.jsxs)("div",{className:x.content,children:[(0,f.jsx)("div",{className:x.MyPosts,children:"My posts"}),(0,f.jsx)("textarea",{id:"text",name:"text",onChange:o.handleChange,value:o.values.text}),(0,f.jsx)("button",{type:"submit",children:"Add posts"}),l]})})})),S=n(2177),k=(0,S.$j)((function(t){return{usersMessage:t.profilePage.posts,addPostAC:p.Pi}}))(y),Z=function(t){var e=t.profile,n=t.status,r=t.updateStatus;return(0,f.jsxs)("div",{className:l.content,children:[(0,f.jsx)(h,{profile:e,status:n,updateStatus:r}),(0,f.jsx)(k,{})]})},w=n(1413),A=n(6871),C=n(2932),P=n(2789),_=function(t){(0,i.Z)(n,t);var e=(0,o.Z)(n);function n(){var t;(0,s.Z)(this,n);for(var r=arguments.length,u=new Array(r),i=0;i<r;i++)u[i]=arguments[i];return(t=e.call.apply(e,[this].concat(u))).updateStatusHandler=function(e){(0,t.props.updateUserStatus)(e)},t}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){var t=this.props,e=t.authorizedUserId,n=t.getUserProfile,r=t.getUserStatus,s=t.router.params.id;s||(s=e),n(s),r(s)}},{key:"render",value:function(){return(0,f.jsx)("div",{children:(0,f.jsx)(Z,(0,r.Z)((0,r.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.updateStatusHandler}))})}}]),n}(a.Component),O=(0,P.qC)(C.D,(function(t){return function(e){var n=(0,A.TH)(),r=(0,A.s0)(),s=(0,A.UO)();return(0,f.jsx)(t,(0,w.Z)((0,w.Z)({},e),{},{router:{location:n,navigate:r,params:s}}))}}),(0,S.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.id,isAuth:t.auth.isAuth}}),(function(t){return{getUserProfile:function(t){return(0,p.d$)(t)},getUserStatus:function(e){return t((0,p.Qw)(e))},updateUserStatus:function(e){return t((0,p.wM)(e))}}})))(_)},2932:function(t,e,n){n.d(e,{D:function(){return c}});var r=n(6515),s=n(3738),u=(n(2791),n(6871)),i=n(2177),o=n(184),a=["isAuth"],l=function(t){return{isAuth:t.auth.isAuth}};function c(t){return(0,i.$j)(l)((function(e){var n=e.isAuth,i=(0,s.Z)(e,a);return n?(0,o.jsx)(t,(0,r.Z)({},i)):(0,o.jsx)(u.Fg,{to:"/login"})}))}},3738:function(t,e,n){function r(t,e){if(null==t)return{};var n,r,s=function(t,e){if(null==t)return{};var n,r,s={},u=Object.keys(t);for(r=0;r<u.length;r++)n=u[r],e.indexOf(n)>=0||(s[n]=t[n]);return s}(t,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(r=0;r<u.length;r++)n=u[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}n.d(e,{Z:function(){return r}})},3430:function(t,e,n){n.d(e,{Z:function(){return s}});var r=n(2327);function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,s,u=[],i=!0,o=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(u.push(r.value),!e||u.length!==e);i=!0);}catch(a){o=!0,s=a}finally{try{i||null==n.return||n.return()}finally{if(o)throw s}}return u}}(t,e)||(0,r.Z)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=721.4b981688.chunk.js.map